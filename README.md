Performance benchmarks comparing matrix operations using row-major vs column-major orientation. Tests evaluate common operations (mean, standard deviation, sum, transpose, reshape) from small and large matrices in different programming languages.


# Design
### Matrix Configurations
| Size       | Dimensions      | Elements    | Memory (MB) | Test iterations |
| ---------- | --------------- | ----------- | ----------- | --------------- |
| **Tiny**   | 100 × 100       | 10,000      | 0.08        | 100,000         |
| **Small**  | 1,000 × 1,000   | 1,000,000   | 7.63        | 10,000          |
| **Medium** | 10,000 × 1,000  | 10,000,000  | 76.29       | 1,000           |
| **Large**  | 100,000 × 1,000 | 100,000,000 | 762.94      | 100             |

(*File I/O uses 10× fewer iterations*)

### Operations
**Row-major vs Column-major** matrix operation performance are measured:
- **Calculation**: `sum` `mean` `std` (axis-aligned)
- **Structure**: `transpose` `reshape` 
- **File I/O**: `read`, `write`

（*Note that for numpy, transpose and reshape is just a view, this might cause some operations in python looks faster than that of C++*）

### Languages & Libraries
- **C++**
- **Python** → NumPy + Pandas  
- **R** → Base matrices + DataFrames


# Run
## C++ compile
```bash
make # Compile
# make run # Run profiling
```

## run test
```bash
bash run.sh &
```


# Results
## Tiny Test (100 x 100)

| Operation | Orientation | C++ | NumPy | pandas | R df | R mat |
| --- | --- | --- | --- | --- | --- | --- |
| sum | row<br>col | 0.000001 ± 0.000001s<br>0.000024 ± 0.000002s | 0.000006 ± 0.000001s<br>0.000007 ± 0.000001s | 0.000252 ± 0.000015s<br>0.000123 ± 0.000007s | 0.000460 ± 0.000333s<br>0.000426 ± 0.000310s | 0.000047 ± 0.000019s<br>0.000014 ± 0.000019s |
| mean | row<br>col | 0.000009 ± 0.000001s<br>0.000010 ± 0.000001s | 0.000021 ± 0.000002s<br>0.000021 ± 0.000002s | 0.000283 ± 0.000012s<br>0.000172 ± 0.000033s | 0.000457 ± 0.000311s<br>0.000426 ± 0.000307s | 0.000047 ± 0.000022s<br>0.000014 ± 0.000020s |
| std | row<br>col | 0.000011 ± 0.000001s<br>0.000012 ± 0.000001s | 0.000058 ± 0.000004s<br>0.000056 ± 0.000003s | 0.000334 ± 0.000011s<br>0.000201 ± 0.000009s | 0.001521 ± 0.000607s<br>0.001407 ± 0.000580s | 0.000936 ± 0.000491s<br>0.000931 ± 0.000472s |
| transpose | row<br>col | 0.000013 ± 0.000001s<br>0.000013 ± 0.000001s | 0.000000 ± 0.000000s<br>0.000000 ± 0.000000s | 0.000062 ± 0.000003s<br>0.000061 ± 0.000002s | 0.000428 ± 0.000312s<br>0.000427 ± 0.000311s | 0.000029 ± 0.000111s<br>0.000028 ± 0.000069s |
| reshape | row<br>col | 0.000090 ± 0.000005s<br>0.000088 ± 0.000004s | 0.000000 ± 0.000000s<br>0.000000 ± 0.000000s | 0.000015 ± 0.000001s<br>0.000015 ± 0.000001s | 0.000418 ± 0.000314s<br>0.000417 ± 0.000310s | 0.000017 ± 0.000105s<br>0.000016 ± 0.000069s |
| write to txt | row<br>col | 0.000697 ± 0.000064s<br>0.000680 ± 0.000139s | 0.001830 ± 0.000095s<br>0.001773 ± 0.000063s | 0.002073 ± 0.000068s<br>0.002099 ± 0.000195s | 0.004656 ± 0.000340s<br>0.004621 ± 0.000268s | 0.003846 ± 0.000066s<br>0.003846 ± 0.000270s |
| read from txt | row<br>col | 0.000570 ± 0.000019s<br>0.000570 ± 0.000018s | 0.000377 ± 0.000013s<br>0.000378 ± 0.000014s | 0.002207 ± 0.000043s<br>0.002207 ± 0.000049s | 0.003492 ± 0.000718s<br>0.003485 ± 0.000667s | 0.003956 ± 0.000699s<br>0.003951 ± 0.000744s |

---

## Small Test (1000 x 1000)

| Operation | Orientation | C++ | NumPy | pandas | R df | R mat |
| --- | --- | --- | --- | --- | --- | --- |
| sum | row<br>col | 0.000157 ± 0.000003s<br>0.002491 ± 0.000064s | 0.000333 ± 0.000007s<br>0.000377 ± 0.000009s | 0.000799 ± 0.000017s<br>0.000620 ± 0.000018s | 0.010015 ± 0.001289s<br>0.008022 ± 0.001316s | 0.002978 ± 0.000031s<br>0.000955 ± 0.000063s |
| mean | row<br>col | 0.001225 ± 0.000036s<br>0.001269 ± 0.000037s | 0.000936 ± 0.000027s<br>0.000922 ± 0.000035s | 0.001426 ± 0.000033s<br>0.001204 ± 0.000034s | 0.010071 ± 0.001319s<br>0.008037 ± 0.001313s | 0.002981 ± 0.000034s<br>0.000954 ± 0.000024s |
| std | row<br>col | 0.001253 ± 0.000032s<br>0.001311 ± 0.000031s | 0.003450 ± 0.000088s<br>0.003195 ± 0.000075s | 0.009450 ± 0.000188s<br>0.009170 ± 0.000154s | 0.040431 ± 0.004209s<br>0.029373 ± 0.004425s | 0.023801 ± 0.002649s<br>0.022206 ± 0.002571s |
| transpose | row<br>col | 0.002787 ± 0.000052s<br>0.002791 ± 0.000052s | 0.000000 ± 0.000000s<br>0.000000 ± 0.000000s | 0.000125 ± 0.000005s<br>0.000126 ± 0.000005s | 0.010292 ± 0.001493s<br>0.010269 ± 0.001490s | 0.003037 ± 0.000927s<br>0.003043 ± 0.000945s |
| reshape | row<br>col | 0.010021 ± 0.000156s<br>0.009933 ± 0.000190s | 0.000000 ± 0.000000s<br>0.000000 ± 0.000000s | 0.000016 ± 0.000001s<br>0.000015 ± 0.000001s | 0.008172 ± 0.001446s<br>0.008155 ± 0.001417s | 0.001442 ± 0.000857s<br>0.001441 ± 0.000823s |
| write to txt | row<br>col | 0.060963 ± 0.001630s<br>0.060743 ± 0.001538s | 0.148798 ± 0.002439s<br>0.148648 ± 0.002214s | 0.178950 ± 0.104713s<br>0.174185 ± 0.001469s | 0.426448 ± 0.016619s<br>0.423934 ± 0.004485s | 0.375720 ± 0.003550s<br>0.379206 ± 0.058317s |
| read from txt | row<br>col | 0.056646 ± 0.000306s<br>0.056749 ± 0.000316s | 0.035792 ± 0.000699s<br>0.035823 ± 0.000435s | 0.071297 ± 0.001547s<br>0.071125 ± 0.001435s | 0.201893 ± 0.013576s<br>0.202325 ± 0.013886s | 0.207414 ± 0.012907s<br>0.207886 ± 0.013699s |

---

## Medium Test (10000 x 1000)

| Operation | Orientation | C++ | NumPy | pandas | R df | R mat |
| --- | --- | --- | --- | --- | --- | --- |
| sum | row<br>col | 0.002899 ± 0.000056s<br>0.030791 ± 0.000202s | 0.006435 ± 0.000198s<br>0.007234 ± 0.000137s | 0.007721 ± 0.000183s<br>0.007983 ± 0.000147s | 0.065501 ± 0.003343s<br>0.084393 ± 0.003352s | 0.028512 ± 0.000184s<br>0.010143 ± 0.000087s |
| mean | row<br>col | 0.012372 ± 0.000072s<br>0.028758 ± 0.000194s | 0.011381 ± 0.000175s<br>0.011609 ± 0.000315s | 0.012579 ± 0.000246s<br>0.012205 ± 0.000165s | 0.065438 ± 0.003302s<br>0.084378 ± 0.003386s | 0.028556 ± 0.000290s<br>0.010145 ± 0.000243s |
| std | row<br>col | 0.012777 ± 0.000073s<br>0.029923 ± 0.000197s | 0.062182 ± 0.000531s<br>0.061130 ± 0.001281s | 0.105192 ± 0.000555s<br>0.102106 ± 0.000561s | 0.408436 ± 0.003362s<br>0.339969 ± 0.005225s | 0.265053 ± 0.014309s<br>0.240571 ± 0.014400s |
| transpose | row<br>col | 0.058580 ± 0.000281s<br>0.085522 ± 0.000406s | 0.000000 ± 0.000000s<br>0.000000 ± 0.000000s | 0.000131 ± 0.000012s<br>0.000751 ± 0.000020s | 0.081258 ± 0.004156s<br>0.147414 ± 0.003651s | 0.044166 ± 0.003147s<br>0.070063 ± 0.003166s |
| reshape | row<br>col | 0.108275 ± 0.000383s<br>0.107352 ± 0.000342s | 0.000000 ± 0.000000s<br>0.000000 ± 0.000000s | 0.000015 ± 0.000002s<br>0.000015 ± 0.000001s | 0.056411 ± 0.003972s<br>0.094881 ± 0.003596s | 0.019635 ± 0.003120s<br>0.019585 ± 0.002945s |
| write to txt | row<br>col | 0.606118 ± 0.018882s<br>0.620667 ± 0.034786s | 1.490800 ± 0.030047s<br>1.453008 ± 0.006000s | 1.755146 ± 0.010662s<br>2.711744 ± 0.031346s | 4.318327 ± 0.056263s<br>4.662678 ± 0.061354s | 3.820647 ± 0.066152s<br>3.949718 ± 0.125911s |
| read from txt | row<br>col | 0.573346 ± 0.001053s<br>0.574095 ± 0.001085s | 0.347641 ± 0.002526s<br>0.345501 ± 0.002028s | 0.531606 ± 0.017559s<br>1.357297 ± 0.013143s | 1.949426 ± 0.024949s<br>2.311603 ± 0.038010s | 1.941529 ± 0.030862s<br>2.379979 ± 0.033477s |

---

## Large Test (100000 x 1000)

| Operation | Orientation | C++ | NumPy | pandas | R df | R mat |
| --- | --- | --- | --- | --- | --- | --- |
| sum | row<br>col | 0.032894 ± 0.000063s<br>0.286087 ± 0.000592s | 0.070231 ± 0.000324s<br>0.093852 ± 0.000302s | 0.080811 ± 0.000549s<br>0.102073 ± 0.000739s | 0.610086 ± 0.016004s<br>0.881440 ± 0.020543s | 0.284035 ± 0.002000s<br>0.101489 ± 0.000890s |
| mean | row<br>col | 0.124281 ± 0.000616s<br>0.195642 ± 0.000154s | 0.115283 ± 0.001066s<br>0.126233 ± 0.001010s | 0.125652 ± 0.001711s<br>0.136060 ± 0.001618s | 0.610292 ± 0.016128s<br>0.880187 ± 0.021167s | 0.283929 ± 0.000841s<br>0.101811 ± 0.005114s |
| std | row<br>col | 0.128221 ± 0.000294s<br>0.196018 ± 0.000150s | 0.645459 ± 0.002291s<br>0.667501 ± 0.002692s | 1.089399 ± 0.003812s<br>1.112716 ± 0.003004s | 3.811175 ± 0.029474s<br>3.272014 ± 0.036911s | 2.516038 ± 0.015281s<br>2.361229 ± 0.019178s |
| transpose | row<br>col | 0.557269 ± 0.001210s<br>1.004823 ± 0.001602s | 0.000000 ± 0.000001s<br>0.000000 ± 0.000000s | 0.000143 ± 0.000035s<br>0.007069 ± 0.000182s | 0.728149 ± 0.029243s<br>1.671790 ± 0.019185s | 0.403422 ± 0.014330s<br>0.887587 ± 0.015367s |
| reshape | row<br>col | 1.103612 ± 0.001793s<br>1.094162 ± 0.001684s | 0.000000 ± 0.000000s<br>0.000000 ± 0.000000s | 0.000018 ± 0.000007s<br>0.000016 ± 0.000001s | 0.514177 ± 0.026323s<br>0.972376 ± 0.019115s | 0.189084 ± 0.013775s<br>0.189188 ± 0.013276s |
| write to txt | row<br>col | 6.373054 ± 0.142022s<br>6.250239 ± 0.166911s | 14.905327 ± 0.025471s<br>14.521315 ± 0.040590s | 17.510481 ± 0.078533s<br>137.349850 ± 0.170354s | 40.226938 ± 0.120164s<br>46.298254 ± 0.252249s | 38.594951 ± 0.570640s<br>40.848301 ± 0.565515s |
| read from txt | row<br>col | 5.750151 ± 0.002968s<br>5.738533 ± 0.002795s | 3.436156 ± 0.007683s<br>3.433300 ± 0.008476s | 5.015773 ± 0.122119s<br>73.022526 ± 0.160319s | 18.749822 ± 0.208021s<br>34.521324 ± 0.565242s | 18.925735 ± 0.301438s<br>35.315829 ± 0.987226s |